<aside
  id="logo-sidebar"
  class="fixed top-16 left-0 bottom-0 z-40 w-64 transition-transform -translate-x-full bg-white border-r border-gray-200 sm:translate-x-0 dark:bg-gray-800 dark:border-gray-700"
  aria-label="Sidebar"
  #asideElement>
  <div class="h-full flex flex-col px-3 py-2 gap-2 overflow-y-auto bg-white dark:bg-gray-800">
    <ul class="space-y-2 font-medium flex-1" *appRequiredRole="'vendor'">
      <li>
        <a
          (click)="sidebar.hide()"
          routerLinkActive="bg-gray-100 dark:bg-gray-700"
          routerLink="/tutorials"
          class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
          <fa-icon
            [icon]="faLightbulb"
            size="lg"
            class="pl-0.5 w-6 h-6 text-gray-400 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"></fa-icon>
          <span class="flex-grow ms-3">Tutorials</span>
          @if (tutorialsService.notAllStarted$ | async) {
            <span class="w-2.5 h-2.5 mr-1.5 text-xs font-semibold rounded-full bg-red-400"></span>
          }
        </a>
      </li>
      <li>
        <a
          (click)="sidebar.hide()"
          routerLinkActive="bg-gray-100 dark:bg-gray-700"
          routerLink="/dashboard"
          class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
          <fa-icon
            [icon]="faDashboard"
            size="lg"
            class="pl-0.5 w-6 h-6 text-gray-400 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"></fa-icon>
          <span class="ms-3">Dashboard</span>
        </a>
      </li>

      <li>
        <button
          type="button"
          (click)="toggleAgentsSubMenu()"
          class="flex items-center w-full p-2 text-base text-gray-900 transition duration-75 rounded-lg group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700"
          aria-controls="dropdown-example">
          <fa-icon
            [icon]="faBoxesStacked"
            size="lg"
            class="pl-0.5 w-6 h-6 text-gray-400 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"></fa-icon>
          <span class="flex-1 ms-3 text-left rtl:text-right whitespace-nowrap">Agents</span>
          <fa-icon [icon]="faChevronDown"></fa-icon>
        </button>
        @if (agentsSubMenuOpen()) {
          <ul class="py-2 space-y-2">
            <li>
              <a
                (click)="sidebar.hide()"
                routerLinkActive="bg-gray-100 dark:bg-gray-700"
                routerLink="/applications"
                class="flex items-center p-2 pl-11 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                <span class="">Applications</span>
              </a>
            </li>
            <li>
              <a
                (click)="sidebar.hide()"
                routerLinkActive="bg-gray-100 dark:bg-gray-700"
                routerLink="/deployments"
                routerLinkActive="bg-gray-100 dark:bg-gray-700"
                class="flex items-center p-2 pl-11 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                <span class="">Deployments</span>
              </a>
            </li>
            <li>
              <a
                (click)="sidebar.hide()"
                routerLinkActive="bg-gray-100 dark:bg-gray-700"
                routerLink="/licenses"
                class="flex items-center pl-11 p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                <span class="">Licenses</span>
                <span
                  class="ml-2 bg-gray-300 text-gray-900 text-xs font-medium me-2 px-2.5 py-0.5 rounded dark:bg-gray-500 dark:text-gray-100"
                  >Pro</span
                >
              </a>
            </li>
          </ul>
        }
      </li>

      <li>
        <button
          type="button"
          (click)="toggleRegistrySubMenu()"
          class="flex items-center w-full p-2 text-base text-gray-900 transition duration-75 rounded-lg group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700"
          aria-controls="dropdown-example">
          <fa-icon
            [icon]="faBox"
            size="lg"
            class="pl-0.5 w-6 h-6 text-gray-400 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"></fa-icon>
          <span class="flex-1 ms-3 text-left rtl:text-right whitespace-nowrap">Registry</span>
          <fa-icon [icon]="faChevronDown"></fa-icon>
        </button>
        @if (registrySubMenuOpen()) {
          <ul class="py-2 space-y-2">
            <li>
              <a
                (click)="sidebar.hide()"
                routerLinkActive="bg-gray-100 dark:bg-gray-700"
                routerLink="/artifacts"
                class="flex items-center p-2 pl-11 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                <span class="">Artifacts</span>
              </a>
            </li>
            <li>
              <a
                (click)="sidebar.hide()"
                routerLinkActive="bg-gray-100 dark:bg-gray-700"
                routerLink="/artifact-pulls"
                class="flex items-center p-2 pl-11 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                <span class="">Downloads</span>
              </a>
            </li>
            <li>
              <a
                (click)="sidebar.hide()"
                routerLinkActive="bg-gray-100 dark:bg-gray-700"
                routerLink="/artifact-licenses"
                class="flex items-center pl-11 p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                <span class="">Licenses</span>
                <span
                  class="ml-2 bg-gray-300 text-gray-900 text-xs font-medium me-2 px-2.5 py-0.5 rounded dark:bg-gray-500 dark:text-gray-100"
                  >Pro</span
                >
              </a>
            </li>
          </ul>
        }
      </li>

      <hr class="dark:border-gray-600" />

      <li>
        <a
          class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group"
          routerLinkActive="bg-gray-100 dark:bg-gray-700"
          routerLink="/customers">
          <fa-icon
            [icon]="faAddressBook"
            size="lg"
            class="pl-0.5 w-6 h-6 text-gray-400 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"></fa-icon>
          <span class="ms-3">Customers</span>
        </a>
      </li>

      <li>
        <a
          class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group"
          routerLinkActive="bg-gray-100 dark:bg-gray-700"
          routerLink="/users">
          <fa-icon
            [icon]="faUsers"
            size="lg"
            class="pl-0.5 w-6 h-6 text-gray-400 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"></fa-icon>
          <span class="ms-3">Users</span>
        </a>
      </li>
      <li>
        <a
          class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group"
          routerLinkActive="bg-gray-100 dark:bg-gray-700"
          routerLink="/branding">
          <fa-icon
            [icon]="faPalette"
            size="lg"
            class="pl-0.5 w-6 h-6 text-gray-400 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"></fa-icon>
          <span class="ms-3">Branding</span>
        </a>
      </li>
      <li>
        <a
          class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group"
          routerLinkActive="bg-gray-100 dark:bg-gray-700"
          routerLink="/settings">
          <fa-icon
            [icon]="faGear"
            size="lg"
            class="pl-0.5 w-6 h-6 text-gray-400 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"></fa-icon>
          <span class="ms-3">Settings</span>
        </a>
      </li>
    </ul>
    <ul class="space-y-2 font-medium flex-1" *appRequiredRole="'customer'">
      <li>
        <a
          (click)="sidebar.hide()"
          routerLinkActive="bg-gray-100 dark:bg-gray-700"
          routerLink="/home"
          class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
          <fa-icon
            [icon]="faHome"
            size="lg"
            class="pl-0.5 w-6 h-6 text-gray-400 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"></fa-icon>
          <span class="ms-3">Home</span>
        </a>
      </li>
      <li>
        <a
          (click)="sidebar.hide()"
          routerLinkActive="bg-gray-100 dark:bg-gray-700"
          routerLink="/deployments"
          class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
          <fa-icon
            [icon]="faDashboard"
            size="lg"
            class="pl-0.5 w-6 h-6 text-gray-400 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"></fa-icon>
          <span class="ms-3">Deployments</span>
        </a>
      </li>
      <li>
        <a
          (click)="sidebar.hide()"
          routerLinkActive="bg-gray-100 dark:bg-gray-700"
          routerLink="/artifacts"
          class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
          <fa-icon
            [icon]="faBox"
            size="lg"
            class="pl-0.5 w-6 h-6 text-gray-400 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"></fa-icon>
          <span class="ms-3">Artifacts</span>
        </a>
      </li>
    </ul>
    @if (feedbackAlert) {
      <div
        id="alert-update"
        class="p-4 bg-gray-50 rounded-lg dark:bg-gray-700"
        role="alert"
        *appRequiredRole="'vendor'">
        <div class="flex justify-between items-center mb-3">
          <span
            class="bg-gray-100 text-gray-600 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-gray-600 dark:text-gray-200"
            >Talk to founders</span
          >
          <button
            type="button"
            class="inline-flex p-1 w-6 h-6 text-gray-500 bg-gray-50 rounded-lg focus:ring-2 focus:ring-gray-400 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:hover:text-white"
            aria-label="Close"
            (click)="feedbackAlert = false">
            <span class="sr-only">Feedback</span>
            <svg
              aria-hidden="true"
              class="w-4 h-4"
              fill="currentColor"
              viewBox="0 0 20 20"
              xmlns="http://www.w3.org/2000/svg">
              <path
                fill-rule="evenodd"
                d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                clip-rule="evenodd"></path>
            </svg>
          </button>
        </div>
        <div class="mb-3 text-sm text-gray-700 dark:text-gray-300">
          We just launched, any feedback helps us building a better product.
        </div>
        <a
          href="https://cal.glasskube.com/team/founder/30min"
          target="_blank"
          class="inline-flex items-center text-sm font-medium text-gray-600 dark:text-gray-500 hover:underline">
          Contact us
          <fa-icon [icon]="faArrowRightLong" class="ml-2"></fa-icon>
        </a>
      </div>
    }
    <div class="text-center text-xs text-gray-300 dark:text-gray-600">
      {{ buildConfig.version }}
      (<code>{{ buildConfig.commit }}</code
      >)
    </div>
  </div>
</aside>
